<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>When Pigs Fly</title>

  <!-- three.js r128 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <!-- GLTFLoader (r128 í˜¸í™˜) -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      overflow: hidden;
      background: #87CEEB;
    }

    .background-image {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    #container {
      width: 100vw;
      height: calc(100vh - 18vh);
      min-height: calc(100vh - 180px);
      cursor: move;
      touch-action: none;
    }

    @media (max-width: 768px) {
      #container {
        height: calc(100vh - 20vh);
        min-height: calc(100vh - 120px);
      }
    }

    .loading-screen {
      position: fixed;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      background-color: rgb(255, 255, 255);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity 0.5s;
    }

    .loading-screen.hidden {
      opacity: 0;
      pointer-events: none;
    }

    .loading-spinner{
      width: 56px;
      height: 56px;
      border: 5px solid rgba(255, 255, 255, 0.35);
      border-top-color: #0051ff;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    .loading-text {
      margin-top: 20px;
      color: #0051ff;
      font-size: 18px;
      font-weight: 600;
    }

    @keyframes spin { to { transform: rotate(360deg); } }

    /* âœ… ìƒë‹¨ ë°” ë” ì–‡ê²Œ */
    .top-bar {
      position: fixed;
      top: 0; left: 0; right: 0;
      width: 100%;
      height: 7px; /* ê¸°ì¡´ 12px -> ì–‡ê²Œ */
      z-index: 2000;
      background: repeating-linear-gradient(
        90deg,
        #574429 -2px,
        #574429 40px,
        #B8CFFF 39px,
        #B8CFFF 74px
      );
    }

    .top-bar img { display: none; }

    /* âœ… ë¡œê³  ë²„íŠ¼: ê°„ê²© ë” ì¤„ì´ê³ , ë¹„ìœ¨ì— ë”°ë¼ ìì—°ìŠ¤ëŸ½ê²Œ ë³€í•˜ê²Œ */
    .logo-buttons {
      position: absolute;
      top: 2vh;
      left: 2vw;
      display: flex;
      flex-direction: column;
      gap: clamp(4px, 0.6vh, 10px); /* ê¸°ì¡´ë³´ë‹¤ ì•½ê°„ ì¤„ì„ */
      z-index: 500;
    }

    .logo-button {
      width: clamp(60px, 8vw, 120px);
      height: clamp(60px, 8vw, 120px);
      cursor: pointer;
      transition: transform 0.3s;
      background: transparent;
      overflow: visible;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-button:hover { transform: scale(1.1); }

    .logo-button img {
      width: 100%;
      height: 100%;
      display: block;
    }

    /* âœ… ë¡œê³ ë²„íŠ¼2 í…ìŠ¤íŠ¸ ë°•ìŠ¤ (ìœ„ì¹˜ëŠ” JSë¡œ ë²„íŠ¼2 ê¸°ì¤€ ìë™ ë°°ì¹˜) */
    .info-box {
      position: fixed; /* absolute -> fixed (ë·°í¬íŠ¸ ê¸°ì¤€ìœ¼ë¡œ ì•ˆì •) */
      left: 2vw;
      top: 120px; /* JSì—ì„œ ë®ì–´ì”€ */
      background: rgba(255, 255, 255, 0.95);
      padding: clamp(12px, 1.2vw, 18px);
      width: min(520px, 88vw);
      z-index: 1600;
      opacity: 0;
      transform: translateY(-12px);
      pointer-events: none;
      transition: all 0.25s ease;
      border: 3px dashed #574429; /* âœ… í•­ìƒ ê°ˆìƒ‰ ì ì„  */
    }

    .info-box.show {
      opacity: 1;
      transform: translateY(0);
      pointer-events: auto;
    }

    .info-box h3 {
      margin-bottom: 10px;
      color: #333;
      font-size: clamp(14px, 1.2vw, 16px);
    }

    .info-box p {
      color: #666;
      font-size: clamp(12px, 1vw, 14px);
      line-height: 1.6;
      white-space: pre-line;
    }

    .poster-gallery {
      position: fixed;
      bottom: 0;
      left: 0; right: 0;
      height: 18vh;
      min-height: 120px;
      max-height: 180px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      justify-content: flex-start;
      padding: 1vh 20px;
      gap: 0.8vw;
      overflow-x: auto;
      overflow-y: hidden;
      z-index: 1100;

      -webkit-overflow-scrolling: touch;
      scroll-behavior: smooth;
    }

    .poster-gallery::-webkit-scrollbar { height: 8px; }
    .poster-gallery::-webkit-scrollbar-track { background: #B8CFFF; }
    .poster-gallery::-webkit-scrollbar-thumb { background: #574429; border-radius: 10px; }
    .poster-gallery::-webkit-scrollbar-thumb:hover { background: #3f2f1c; }

    .poster-item {
      flex-shrink: 0;
      width: 5vw;
      min-width: 60px;
      max-width: 100px;
      aspect-ratio: 1 / 1.414;
      background: #f0f0f0;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      position: relative;
    }

    .poster-item:hover {
      transform: translateY(-10px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    }

    .poster-item.active { transform: translateY(-5px); }

    .poster-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .poster-placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      color: #999;
      font-size: clamp(9px, 0.8vw, 11px);
      text-align: center;
      padding: 5px;
    }

    .control-panel {
      position: fixed;
      top: 4vh;
      right: 2vw;
      background: rgba(255, 255, 255, 0.4);
      backdrop-filter: blur(10px);
      padding: 0.9vw;
      min-width: 180px;
      max-width: 250px;
      z-index: 500;
    }

    .control-item {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 15px;
    }
    .control-item:last-child { margin-bottom: 0; }

    .control-label {
      font-size: clamp(11px, 1vw, 13px);
      color: #333;
      min-width: 70px;
    }

    input[type="range"] {
      flex: 1;
      height: 6px;
      background: #B8CFFF;
      outline: none;
      cursor: pointer;
      -webkit-appearance: none;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 13px;
      height: 13px;
      background: #574429;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .control-panel { display: none; }
    }

    .about-overlay {
      position: fixed;
      bottom: -100%;
      left: 0; right: 0;
      height: 100%;
      background: rgba(48, 33, 10, 0.95);
      z-index: 2000; /* âœ… íŠ¸ë¡œí”¼ë³´ë‹¤ ìœ„ */
      transition: bottom 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 8vh 5vw 25vh 5vw;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }

    .about-overlay.show { bottom: 0; }

    .about-content {
      display: flex;
      gap: 5vw;
      max-width: 1400px;
      width: 100%;
      align-items: flex-start;
    }

    .about-image {
      flex-shrink: 0;
      width: 25vw;
      min-width: 250px;
      max-width: 400px;
      aspect-ratio: 1 / 1.414;
      background: white;
      overflow: hidden;
    }

    .about-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .about-text {
      flex: 1;
      color: white;
      min-width: 300px;
    }

    .about-text h2 {
      font-size: clamp(20px, 2vw, 28px);
      margin-bottom: 3vh;
      border-bottom: 2px solid rgba(255, 255, 255, 0.3);
      padding-bottom: 2vh;
    }

    .about-scroll {
      word-break: keep-all;
      overflow-wrap: break-word;
      line-height: 1.8;
      max-height: 50vh;
      overflow-y: auto;
      padding-right: 15px;
      margin-bottom: 2vh;
    }

    .about-scroll p {
      line-height: 1.8;
      margin-bottom: 15px;
      font-size: clamp(13px, 1.2vw, 16px);
    }

    /* âœ… ì‘ê°€ ì˜ì—­ */
    .author-wrap { margin: 0 0 2vh 0; }
    .author-wrap.hidden { display: none; } /* âœ… ì´ˆê¸°(í¬ìŠ¤í„° ì„ íƒ ì „) ìˆ¨ê¹€ */

    .author-toggle {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: transparent;
      border: none;
      color: white;
      cursor: pointer;
      padding: 0;
      font-size: clamp(13px, 1.2vw, 16px);
      font-weight: 700;
      letter-spacing: 0.2px;
    }

    .author-toggle:hover { opacity: 0.8; }

    .author-caret {
      display: inline-block;
      transform: rotate(0deg);
      transition: transform 0.25s ease;
      opacity: 0.9;
    }

    .author-wrap.open .author-caret { transform: rotate(90deg); }

    .author-bio {
      margin-top: 10px;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.35s ease;
      opacity: 0.95;
    }

    .author-wrap.open .author-bio { max-height: 240px; }

    .author-bio p {
      margin: 0;
      font-size: clamp(12px, 1.1vw, 15px);
      line-height: 1.7;
      color: rgba(255,255,255,0.92);
    }

    .about-contact {
      display: flex;
      flex-direction: column;
      gap: 10px;
      font-size: clamp(13px, 1.2vw, 16px);
    }

    .about-contact a {
      color: white;
      text-decoration: none;
      transition: opacity 0.3s;
    }

    .about-contact a:hover { opacity: 0.7; }

    .toggle-button {
      position: fixed;
      bottom: calc(20vh + 2vh);
      right: 3vw;
      width: clamp(65px, 6vw, 100px);
      height: clamp(65px, 6vw, 100px);
      border-radius: 50%;
      background: #574429;
      color: white;
      font-size: clamp(11px, 1vw, 14px);
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
      z-index: 2200;
    }

    .toggle-button.back {
      background: #B8CFFF;
      color: #333;
    }

    .toggle-button:hover { transform: scale(1.1); }

    #confetti {
      position: fixed;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 900;
    }

    /* âœ… íŠ¸ë¡œí”¼ (ëª¨ë°”ì¼ì—ì„œ ë” ì‘ê²Œ) */
    .trophy-badge {
      position: fixed;
      left: 18px;
      bottom: calc(18vh + 10px);
      width: 90px;
      height: auto;
      z-index: 1300;
      pointer-events: auto;
      cursor: pointer;
      opacity: 0;
      transform: translateY(10px) scale(0.98);
      transition: opacity 0.25s ease, transform 0.25s ease;
    }

    .trophy-badge.show {
      opacity: 1;
      transform: translateY(0px) scale(1);
      animation: trophyFloat 2.6s ease-in-out infinite;
    }

    @keyframes trophyFloat {
      0%   { transform: translateY(0px)   translateX(0px)   rotate(-1deg) scale(1); }
      50%  { transform: translateY(-10px) translateX(4px)   rotate(1deg)  scale(1); }
      100% { transform: translateY(0px)   translateX(0px)   rotate(-1deg) scale(1); }
    }

    @media (max-width: 768px) {
      .trophy-badge {
        bottom: calc(20vh + 8px);
        width: 62px; /* âœ… ë” ì‘ê²Œ */
      }

      /* âœ… ëª¨ë°”ì¼ ABOUT ë ˆì´ì•„ì›ƒ: í¬ìŠ¤í„°(ê°€ìš´ë°) -> í…ìŠ¤íŠ¸(ì•„ë˜, ì™¼ìª½ì •ë ¬) */
      .about-content {
        flex-direction: column;
        gap: 20px;
        align-items: center;
      }

      .about-image {
        width: min(78vw, 360px);
        min-width: 0;
        max-width: none;
        margin: 0 auto;
      }

      .about-text {
        width: 100%;
        min-width: 0;
      }

      .about-scroll { max-height: none; }
      .about-scroll p { text-align: left; }
      .about-text h2 { text-align: left; }

      /* âœ… ëª¨ë°”ì¼ì—ì„œ ì˜¤ë²„ë ˆì´ ì—´ë¦¬ë©´ íŠ¸ë¡œí”¼ë¥¼ ë” ë’¤ë¡œ */
      body.overlay-open .trophy-badge {
        z-index: 800;
        pointer-events: none;
      }
    }
  </style>
</head>

<body>
  <img src="background.jpg" class="background-image" alt="Background">

  <div class="loading-screen" id="loadingScreen">
    <div class="loading-spinner"></div>
    <div class="loading-text">ë¼ì§€ë¥¼ ë§ˆìŒê» ë§Œì ¸ë³´ì„¸ìš”.</div>
  </div>

  <div class="top-bar"></div>

  <div class="logo-buttons">
    <div class="logo-button" id="button1">
      <img src="button1.svg" alt="Logo 1">
    </div>
    <div class="logo-button" id="button2">
      <img src="button2.svg" alt="Logo 2">
    </div>
  </div>

  <!-- âœ… ë¡œê³ ë²„íŠ¼2 í…ìŠ¤íŠ¸ ë°•ìŠ¤ ë‚´ìš© ë³€ê²½ -->
  <div class="info-box" id="infoBox">
    <h3>MTT OFFICE</h3>
    <p>ë¯“ ìŠ¤íŠœë””ì˜¤ëŠ” â€˜ë©‹â€™ì„ ì‚¬ë‘í•˜ëŠ” ê·¸ë˜í”½ ë””ìì´ë„ˆ êµ¬ë‚˜ì˜ê³¼ ìµœìˆ˜ë¹ˆì´ ê²°ì„±í•œ 2ì¸ ë””ìì¸ ìŠ¤íŠœë””ì˜¤ì…ë‹ˆë‹¤. ì¸ì‡„ë¬¼, ì›¹, í¸ì§‘ ë“± ë‹¤ì–‘í•œ ë§¤ì²´ë¥¼ ë‹¤ë£¨ë©°, ë¯“ì˜¤í”¼ìŠ¤ë§Œì˜ â€˜ë©‹â€™ì„ ì •ì˜í•˜ê³  êµ¬í˜„í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ ë‚˜ì•„ê°‘ë‹ˆë‹¤.</p>
  </div>

  <div id="container"></div>

  <div class="control-panel">
    <div class="control-item">
      <span class="control-label">Speed</span>
      <input type="range" id="rotationSpeed" min="0" max="2" step="0.1" value="0.5">
    </div>
    <div class="control-item">
      <span class="control-label">Zoom</span>
      <input type="range" id="scaleSlider" min="0.5" max="3" step="0.1" value="1">
    </div>
  </div>

  <div class="toggle-button" id="toggleButton">ABOUT</div>

  <div class="about-overlay" id="aboutOverlay">
    <div class="about-content">
      <div class="about-image" id="aboutImage">
        <!-- âœ… ê¸°ë³¸: ì•„ë¬´ê²ƒë„ ì•ˆ ëˆŒë €ì„ ë•Œ ë³´ì—¬ì¤„ í¬ìŠ¤í„° -->
        <img src="pigposter.png" alt="Selected Poster">
      </div>

      <div class="about-text">
        <h2>{When Pigs Fly}</h2>

        <!-- âœ… ê¸°ë³¸ í”„ë¡œì íŠ¸ ì†Œê°œ -->
        <div class="about-scroll">
          <p>ë””ìì¸ì€ ì–¸ì œë‚˜ ê·œì¹™ê³¼ ëª©ì ì´ ìˆì–´ì•¼ í•œë‹¤ê³  ë¯¿ìœ¼ì‹œë‚˜ìš”?
ìµìˆ™í•œ í‹€ê³¼ í‰ë²”í•œ ê²°ê³¼ë¬¼ì€ ë” ì´ìƒ ìš°ë¦¬ì—ê²Œ ì˜ê°ì„ ì£¼ì§€ ëª»í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” í˜„ì¬ ë‚¯ì„¤ê³ ë„ ìƒìƒí•œ ìê·¹ì´ í•„ìš”í•œ ì‹œì ì— ìˆìŠµë‹ˆë‹¤.
{When Pigs Fly}ëŠ” â€˜í„°ë¬´ë‹ˆì—†ìŒâ€™ ê·¸ ìì²´ë¥¼ ì‹œê°ì ìœ¼ë¡œ ìˆ˜ì§‘í•˜ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.
ë””ìì´ë„ˆë“¤ì´ ìŠ¤ìŠ¤ë¡œì˜ ì‚¬ê³  êµ¬ì¡°ì—ì„œ ê³¼ê°íˆ ë²—ì–´ë‚˜ ë¶ˆê°€ëŠ¥ì„ ì¦ê¸°ê³ , ë‚ ê²ƒ ê·¸ëŒ€ë¡œì˜ í„°ë¬´ë‹ˆì—†ëŠ” ë””ìì¸ì„ ë§ˆìŒê» ë§Œë“¤ ìˆ˜ ìˆëŠ” ìë¦¬ê°€ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.</p>
        </div>

        <!-- âœ… ì‘ê°€ ì´ë¦„/ì„¤ëª… í† ê¸€ (ì´ˆê¸°ì—” ìˆ¨ê¹€) -->
        <div class="author-wrap hidden" id="authorWrap">
          <button class="author-toggle" id="authorToggle" type="button">
            <span class="author-caret">â–¸</span>
            <span id="authorName">ì‘ê°€ëª…</span>
          </button>
          <div class="author-bio" id="authorBio">
            <p id="authorBioText">ì‘ê°€ ì„¤ëª…</p>
          </div>
        </div>

        <div class="about-contact">
          <a href="https://www.instagram.com/mtt.office/" target="_blank">@mtt.office</a>
          <a href="mailto:mtt.5ffice@gmail.com">mtt.5ffice@gmail.com</a>
        </div>
      </div>
    </div>
  </div>

  <div class="poster-gallery" id="posterGallery"></div>

  <canvas id="confetti"></canvas>

  <img id="trophyBadge" class="trophy-badge" src="" alt="trophy">

  <script>
    // âœ… posterData: ì‚¬ìš©ìê°€ ì¤€ í˜•íƒœ ê·¸ëŒ€ë¡œ ë°˜ì˜
    const posterData = {
      1: {
        title: "ìƒğŸ¦€ë§ğŸ¦€",
        text: "â€˜ìƒê²Œë§ê²Œí•˜ë‹¤â€™ëŠ” ê°‘ì‘ìŠ¤ëŸ½ê³  í„°ë¬´ë‹ˆì—†ëŠ” ëª¨ì–‘ì„ ëœ»í•©ë‹ˆë‹¤. ì €ëŠ” ì´ í‘œí˜„ ì† â€˜ê²Œâ€™ë¥¼ ì‹¤ì œ ê²Œ(ğŸ¦€)ë¡œ ì˜®ê²¨, ì–¸ì–´ì˜ ìš°ì—°ì„±ê³¼ ì´ë¯¸ì§€ì˜ ì§ê´€ì„ ê²¹ì³ ë³´ì•˜ìŠµë‹ˆë‹¤. ë¬´ì±„ìƒ‰ìœ¼ë¡œ ì •ëˆëœ í™”ë©´ì€ ê²‰ë³´ê¸°ì— ì£¼ì œì™€ ë§ì§€ ì•Šì•„ ë³´ì´ì§€ë§Œ, ë°”ë¡œ ê·¸ ì ì—ì„œ ì´ë²ˆ ì „ì‹œì˜ ì£¼ì œì¸ â€˜í„°ë¬´ë‹ˆì—†ëŠ” í¬ìŠ¤í„°â€™ë¥¼ ì˜¤íˆë ¤ ì—­ì„¤ì ìœ¼ë¡œ ë“œëŸ¬ëƒ…ë‹ˆë‹¤. ì¤‘ì•™ì˜ ì‘ì€ ê· ì—´ì€ ì§ˆì„œ ì†ì—ì„œ ë¶ˆì‘¥ íŠ€ì–´ë‚˜ì˜¤ëŠ” ì—‰ëš±í•¨ì„ ì•”ì‹œí•©ë‹ˆë‹¤.",
        instagram: "@stunana_",
        email: "stunanadesigner@gmail.com",
        artist: "NANA",
        artistBio: "ë¬´ì±„ìƒ‰ì„ ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒ. ë‹¨ìˆœí•¨ ì†ì—ì„œ ë³¸ì§ˆì„ ì°¾ì•„, ì˜¤ì§ ë¬´ì±„ìƒ‰ë§Œìœ¼ë¡œ íƒ€ì´í¬ì™€ ì‘ì—…ë¬¼ì„ ì™„ì„±í•©ë‹ˆë‹¤."
      },
      2: {
        title: "íƒˆí”¼",
        text: "íƒˆí”¼ì— ëŒ€í•œ ì‹œê°í™”ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. ì €ì—ê²Œ ê°œì¸ì ìœ¼ë¡œ 24ë…„ì—ì„œ 25ë…„ ì‚¬ì´ì˜ ê¸°ê°„ì´ í° ë³€í™”ê°€ ìˆë˜ ë•Œì¸ë°ìš” ì´ ë³€í™”í•´ì„œ ë„ì•½í•˜ëŠ” ì‹œì ì„ í•œê³„ë¥¼ ëš«ê³  ë‚˜ì•„ê°€ëŠ” ê·¸ë˜í”½ìœ¼ë¡œ í‘œí˜„í–ˆìŠµë‹ˆë‹¤. ì¤‘ì²©í•´ ë ˆì´ì–´ë¥¼ ìŒ“ëŠ” í‘œí˜„ë°©ì‹ê³¼ ì†ë„ê°ì„ ë“œëŸ¬ë‚´ëŠ” ê·¸ë˜í”½ ë°©ì‹ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.",
        instagram: "@knodmik",
        email: "knodmik@gmail.com",
        artist: "ë…¸ë“œë¯¹",
        artistBio: "ìŒì•…ê³¼ ë¬¸í™”ë¥¼ ì‚¬ë‘í•˜ê³  ì€ìœ ì  ì‚¬ê³ ë¡œ ë””ìì¸ì„ ì ‘ê·¼í•˜ë ¤ í•©ë‹ˆë‹¤. í˜„ì¬ëŠ” ë°´ë“œ UNXLê³¼ í˜‘ì—…í•˜ë©° ì‘ì—…ì„ ì§„í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤."
      },
      3: {
        title: "í„°ë¬´ë‹ˆê°€ì—†ë‹¤",
        text: "ì´ í¬ìŠ¤í„°ëŠ” í„°ë¬´ë‹ˆê°€ ì—†ìŠµë‹ˆë‹¤.",
        instagram: "@dought.go",
        email: "dought.go@gmail.com",
        artist: "ê³ ë™ìš±",
        artistBio: "íƒ€ì´í¬ê·¸ë˜í”¼ë¥¼ ë¹„ë¡¯í•œ ì˜ˆìˆ ì ì¸ ëª¨ë“  ê²ƒì— ì• ì •ì„ ê°€ì§€ê³  ë””ìì¸ì„ ê³µë¶€í•©ë‹ˆë‹¤. ì €ë§ˆë‹¤ ìƒˆë¡œìš´ ì˜ë¯¸ë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆëŠ” ì‘ì—…ì„ ëª©í‘œë¡œ ë‚˜ì•„ê°‘ë‹ˆë‹¤."
      },
      4: {
        title: "ê¸°ë£¨ì˜ 36ê°œì›” ë¬¼ì–´ë²„ë¦¬ê¸° ê¸°ë¡",
        text: "ì €í¬ ì§‘ ê³ ì–‘ì´ ê¸°ë£¨ëŠ” íƒœì–´ë‚œ ì§€ 3ê°œì›”ë¶€í„° ì €ë¥¼ ë¬¼ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤. ê·¸ ë²„ë¦‡ì„ 36ê°œì›”ì´ ì§€ë‚œ ì§€ê¸ˆê¹Œì§€ë„ ê³ ì¹˜ì¹˜ ëª»í•˜ì—¬ ì €ëŠ” ì˜¤ëŠ˜ë„ ê¸°ë£¨ì—ê²Œ ë¬¼ë ¸ìŠµë‹ˆë‹¤. ì˜¬í•´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ 36ê°œì›”ì´ ëœ ê¸°ë£¨. ì´ìœ  ì—†ì´ ë¬¼ë¦¬ëŠ” ê±´ ê´œì°®ìœ¼ë‹ˆ, ë¬¼ë¦¬ë”ë¼ë„ í•­ìƒ ê±´ê°•í•œ ëª¨ìŠµìœ¼ë¡œ ë¬¼ë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤.",
        instagram: "@___twig__",
        email: "clo1025@naver.com",
        artist: "ì±Œ",
        artistBio: "ê³ ì–‘ì´ë¥¼ ì‚¬ë‘í•˜ê³  í‚¤ìš°ê³  ìˆëŠ” ì§‘ì‚¬ ë””ìì´ë„ˆ ì„±ì±„ë¦° ì…ë‹ˆë‹¤."
      },
      5: {
        title: "ë„ˆë„ ì¹˜ì¿ ì™€ ëì–´?",
        text: "ì²˜ìŒ ë³´ë©´ ì´í•´ë¥¼ ëª»í•˜ê³ , ì´í•´í•˜ë©´ ì–´ì´ì—†ì–´ì„œ í”¼ì‹í•˜ê²Œ ë˜ëŠ” í¬ìŠ¤í„° ì…ë‹ˆë‹¤. ê¸°ë¡ì ì¸ í­ì—¼ì´ì—ˆë˜ ì´ë²ˆ ì—¬ë¦„, ì•¼ì™¸ì—ì„œ ë³´ë‚¸ ì‹œê°„ì´ ë§ì•„ ì œ ì‚´ì€ ìƒˆê¹Œë§£ê²Œ íƒ€ë²„ë ¸ìŠµë‹ˆë‹¤...",
        instagram: "@keemeenzee",
        email: "keemeenzee@gmail.com",
        artist: "ê¹€ë¯¼ì§€",
        artistBio: "ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ë””ìì¸ì„ ì „ê³µí•˜ë©° ê´€ì°°ì„ ë°”íƒ•ìœ¼ë¡œ ê·¸ë˜í”½, ì‚¬ì§„, íƒ€ì´í¬ê·¸ë˜í”¼ ì‘ì—…ì„ í•©ë‹ˆë‹¤."
      },
      6: {
        title: "ê³„ë€ë°”ìœ„ë³´ Rock Paper Eggs",
        text: "Gaver, B., Boucher, A.ì˜ ë…¼ë¬¸ì—ì„œ Rockâ€“Paperâ€“X êµ¬ì¡°ì˜ í™•ì¥ì„ ì°¸ê³ í•´ Eggsë¥¼ ì‚¬ìš©í•œ ë³€í˜• ê·œì¹™ ì‚¬ë¡€ë¥¼ ìˆ˜ì§‘í–ˆë‹¤. ì‚¬ì‹¤ ê±°ì§“ë§ì´ë‹¤.",
        instagram: "@surrealhighway",
        email: "surrealhighway@gmail.com",
        artist: "ê¹€ì„±í˜",
        artistBio: "Surreal Highwayë¥¼ ìš´ì˜í•˜ë©° ì´ë¯¸ì§€ë¥¼ ë’¤ì„ê³  ì¡°í•©í•´ ìƒˆë¡œìš´ ê°ê°ì„ ì œì•ˆí•©ë‹ˆë‹¤."
      },
      7: {
        title: "íšŒë®ë°¥ ë¬¼íšŒ",
        text: "ë¦´ìŠ¤, ì‚¬ì§„, ìŠ¤í¬ë¦°ìƒ· ê°™ì€ ë‹¨í¸ì ì¸ ìˆœê°„ë“¤ì„ ì—®ì€ ì½œë¼ì£¼ í¬ìŠ¤í„°ì…ë‹ˆë‹¤.",
        instagram: "@gingugenie",
        email: "gingugenie@gmail.com",
        artist: "ê¹…ìœ ì§€ë‹ˆ",
        artistBio: "ì‚¬ëŒë“¤ì˜ ë¹„ì£¼ì–¼ ì†Œì›ì„ ë“¤ì–´ì£¼ëŠ” ë””ìì´ë„ˆê°€ ë˜ê³  ì‹¶ìŠµë‹ˆë‹¤."
      },
      8: {
        title: "í„°ë¬´ë‹ˆ ìŠ¤í‹°ì»¤",
        text: "ì°¢ì–´ì§€ê³  ì‚ëš¤ë¹¼ëš¤í•œ ìš”ì†Œ ìœ„ì— ìŠ¤í‹°ì»¤ë¥¼ ë¶™ì´ë©° ê²°í•¨ì„ ì•„ë¦„ë‹¤ì›€ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤.",
        instagram: "@dui_cry4",
        email: "leest8577@naver.com",
        artist: "ì´ìˆ˜ì •",
        artistBio: "ìƒˆë¡œì›€ê³¼ ìµìˆ™í•¨ ì‚¬ì´ì—ì„œ ì‹¤í—˜ì ì¸ ë””ìì¸ì„ íƒêµ¬í•©ë‹ˆë‹¤."
      },
      9: {
        title: "Soo Room",
        text: "ë§¤ì¼ ìƒí™œí•˜ê³  ì‘ì—…í•˜ëŠ” ë°©ì„ êµ¬ì¡°ë„ë¡œ í‘œí˜„í–ˆìŠµë‹ˆë‹¤.",
        instagram: "@sootechbox",
        email: "sootechbox@gmail.com",
        artist: "ì¥ìˆ˜ì•ˆ",
        artistBio: "ì–¸ì–´ì™€ í˜•ì‹ì´ ê¸´ë°€í•˜ê²Œ ì—°ê²°ëœ ë””ìì¸ì„ ì¶”êµ¬í•©ë‹ˆë‹¤."
      },
      10: {
        title: "ê´‘ê³ ",
        text: "ì—°ë½ì£¼ì„¸ìš”.",
        instagram: "@choizaeyoung",
        email: "choizaeyoung.info@gmail.com",
        artist: "ìµœì¬ì˜",
        artistBio: "CGIì™€ ê·¸ë˜í”½ ë””ìì¸ì„ í•©ë‹ˆë‹¤."
      },
      11: {
        title: "ì½ìœ¼ë©´ í–‰ìš´ê³¼ ë³´ìƒì´ ë”°ë¼ì˜¤ëŠ”",
        text: "í–‰ìš´ê³¼ ë³´ìƒì„ í¬ê²Œ ë°°ì¹˜í–ˆì§€ë§Œ ì½ìœ¼ë©´ í—ˆíƒˆí•œ ê°ì •ì´ ë‚¨ë„ë¡ ì‘ì—…í–ˆìŠµë‹ˆë‹¤.",
        instagram: "@eajxzy1_arx",
        email: "kwakdukyoung@gmail.com",
        artist: "ì´ì§€ì›",
        artistBio: "ìƒëª…ëŒ€í•™êµ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ë””ìì¸ì „ê³µ ì¬í•™ ì¤‘ì…ë‹ˆë‹¤."
      },
      12: {
        title: "ì ",
        text: "ì´ìœ ê°€ ì—†ì–´ë„ ë˜ëŠ” ë””ìì¸ì„ ëª©í‘œë¡œ ë“œë¡œì‰ì—ì„œ ì‹œì‘í•œ ì‘ì—…ì…ë‹ˆë‹¤.",
        instagram: "@seyeongjeonn",
        email: "syjeonn24@gmail.com",
        artist: "ì „ì„¸ì˜",
        artistBio: "ê·¸ë˜í”½ê³¼ ë¸Œëœë”© ì‘ì—…ì„ ì¢‹ì•„í•©ë‹ˆë‹¤."
      },
      13: {
        title: "FACE",
        text: "ë³¸ì§ˆì€ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ë©”ì‹œì§€ë¥¼ ë°˜ë³µë˜ëŠ” ëˆˆ ì´ë¯¸ì§€ë¡œ í‘œí˜„í–ˆìŠµë‹ˆë‹¤.",
        instagram: "@blinkaxis",
        email: "wohn4288@gmail.com",
        artist: "Blinkaxis",
        artistBio: "ì„¬ê´‘ì²˜ëŸ¼ ê°•ë ¬í•œ ìˆœê°„ê³¼ ì§€ì†ì ì¸ ì˜ê°ì„ íƒêµ¬í•©ë‹ˆë‹¤."
      },
      14: {
        title: "ì¹´ìš°ë£½ì¹´ìš°ë£½",
        text: "ê°€ì„ì€ ê°€ì„ì¸ê°€ ë³´ë„¤ìš”â€¦",
        instagram: "@mtee.kr",
        email: "a52248814@gmail.com",
        artist: "Mitee",
        artistBio: "í¬ìŠ¤í„°ë¥¼ ì¢‹ì•„í•˜ê³  ê¹ìŠµë‹ˆë‹¤."
      },
      15: {
        title: "This totem brings meâ€¦",
        text: "ì´ í† í…œì€ í–‰ìš´ì´ ì•„ë‹Œ ë¶ˆìš´ì„ ëŒì–´ë“¤ì´ëŠ” ë§¤ê°œì²´ì…ë‹ˆë‹¤.",
        instagram: "@hyodoreu_u",
        email: "hyodoreu0625@gmail.com",
        artist: "ê¹€íš¨ì›",
        artistBio: "ê·¸ë˜í”½Â·í¸ì§‘ë¬¼Â·ì›¹ì„ ë§Œë“­ë‹ˆë‹¤."
      },
      16: {
        title: "BURNED FOR REAL",
        text: "Burned can be despair, burned can be delight.",
        instagram: "@fillainn",
        email: "Filaaghn@gmail.com",
        artist: "Fila",
        artistBio: "Everyday oddities into playful experiments."
      },
      17: {
        title: "í  ì—†ëŠ” í™˜ìƒ",
        text: "ì™„ë²½í•¨ì´ ì˜¤íˆë ¤ ë¹„í˜„ì‹¤ì ì´ë¼ëŠ” ì§ˆë¬¸ì„ ë˜ì§‘ë‹ˆë‹¤.",
        instagram: "@typeetle",
        email: "hwl1130@naver.com",
        artist: "typeetle",
        artistBio: "ë ˆí„°ë§ê³¼ í¬ìŠ¤í„°ì— ê´€ì‹¬ì´ ë§ìŠµë‹ˆë‹¤."
      },
      18: {
        title: "POOP!",
        text: "ê°€ì¥ í•˜ì°®ê³  ê·¸ë˜ì„œ ë” ì‚¬ë‘ìŠ¤ëŸ¬ìš´ ë˜¥ë“¤ì˜ ì„¸ê³„.",
        instagram: "@zzeluvdesign",
        email: "zzeluv.design@gmail.com",
        artist: "ê¹€ì§€ì• ",
        artistBio: "ì¼ìƒì˜ ì¬ë°ŒëŠ” ìˆœê°„ì„ ê¸°ë¡í•©ë‹ˆë‹¤."
      }
    };

    // âœ… ì‘ê°€ í† ê¸€ UI
    const authorWrap = document.getElementById('authorWrap');
    const authorToggle = document.getElementById('authorToggle');
    const authorNameEl = document.getElementById('authorName');
    const authorBioTextEl = document.getElementById('authorBioText');

    // âœ… ì´ˆê¸°: í¬ìŠ¤í„° ëˆ„ë¥´ê¸° ì „ì—” ì‘ê°€ ì„¹ì…˜ ìˆ¨ê¹€
    authorWrap.classList.add('hidden');
    authorWrap.classList.remove('open');

    if (authorToggle) {
      authorToggle.addEventListener('click', () => {
        authorWrap.classList.toggle('open');
      });
    }

    function updateAboutText(posterIndex) {
      const data = posterData[posterIndex];
      if (!data) return;

      document.querySelector('.about-text h2').textContent = data.title;
      document.querySelector('.about-scroll p').textContent = data.text;

      // âœ… í¬ìŠ¤í„° ì„ íƒ ì‹œì—ë§Œ ì‘ê°€ ì„¹ì…˜ í‘œì‹œ
      authorNameEl.textContent = data.artist || 'ì‘ê°€';
      authorBioTextEl.textContent = data.artistBio || '';
      authorWrap.classList.remove('hidden');
      authorWrap.classList.remove('open');

      const ig = document.querySelector('.about-contact a:first-child');
      ig.textContent = data.instagram;
      ig.href = `https://instagram.com/${data.instagram.replace('@', '')}`;

      const mail = document.querySelector('.about-contact a:last-child');
      mail.textContent = data.email;
      mail.href = `mailto:${data.email}`;
    }

    // ===============================
    // âœ… info-box ìœ„ì¹˜ë¥¼ ë¡œê³ ë²„íŠ¼2 ê¸°ì¤€ìœ¼ë¡œ "í•­ìƒ ì ë‹¹í•œ ê°„ê²©" ìœ ì§€
    // ===============================
    const infoBox = document.getElementById('infoBox');
    const button2 = document.getElementById('button2');

    function positionInfoBox() {
      if (!infoBox || !button2) return;
      const r = button2.getBoundingClientRect();

      // ë²„íŠ¼2 ì•„ë˜ë¡œ "í•­ìƒ" ì¼ì • ë¹„ìœ¨ ê°„ê²© (ë„ˆë¬´ ë²Œì–´ì§€ê±°ë‚˜ ê²¹ì¹˜ì§€ ì•Šë„ë¡ clamp)
      const gap = Math.max(8, Math.min(18, window.innerHeight * 0.015)); // 8~18px
      const top = r.bottom + gap;
      const left = r.left; // ë²„íŠ¼ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ ì •ë ¬

      infoBox.style.top = `${top}px`;
      infoBox.style.left = `${left}px`;
    }

    window.addEventListener('resize', positionInfoBox);
    window.addEventListener('load', positionInfoBox);

    // ===============================
    // âœ… ì—¬ê¸°ì„œë¶€í„° ê¸°ì¡´ ì½”ë“œ (Three/Confetti ë“±)
    // ===============================
    function ensureUVsForModel(root) {
      root.traverse((child) => {
        if (!child.isMesh) return;
        const geo = child.geometry;
        if (!geo || geo.attributes.uv) return;

        geo.computeBoundingBox();
        const bb = geo.boundingBox;
        const size = new THREE.Vector3();
        bb.getSize(size);

        const pos = geo.attributes.position;
        const uv = new Float32Array(pos.count * 2);

        const denomX = size.x === 0 ? 1 : size.x;
        const denomY = size.y === 0 ? 1 : size.y;

        for (let i = 0; i < pos.count; i++) {
          const x = pos.getX(i);
          const y = pos.getY(i);
          uv[i * 2 + 0] = (x - bb.min.x) / denomX;
          uv[i * 2 + 1] = (y - bb.min.y) / denomY;
        }

        geo.setAttribute('uv', new THREE.BufferAttribute(uv, 2));
        geo.attributes.uv.needsUpdate = true;
      });
    }

    // ===============================
    // âœ… Confetti
    // ===============================
    const confettiCanvas = document.getElementById('confetti');
    const ctx = confettiCanvas.getContext('2d');

    function resizeConfetti() {
      const dpr = Math.min(1.5, Math.max(1, window.devicePixelRatio || 1));
      confettiCanvas.width = Math.floor(window.innerWidth * dpr);
      confettiCanvas.height = Math.floor(window.innerHeight * dpr);
      confettiCanvas.style.width = '100vw';
      confettiCanvas.style.height = '100vh';
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    }
    resizeConfetti();
    window.addEventListener('resize', resizeConfetti);

    function rand(min, max) { return Math.random() * (max - min) + min; }

    let particles = [];
    let rafId = null;

    function getTopBarBottomY() {
      const bar = document.querySelector('.top-bar');
      if (!bar) return 0;
      const rect = bar.getBoundingClientRect();
      return rect.bottom + rand(2, 10);
    }

    function getConfettiStyle(colorKey) {
      if (colorKey === 'gold')   return { colors: ['#B67A12', '#FFF0A6', '#FFD44A'], highlightStrength: 1.0 };
      if (colorKey === 'silver') return { colors: ['#6E7680', '#F3F7FF', '#C8D0DB'], highlightStrength: 0.85 };
      if (colorKey === 'bronze') return { colors: ['#7A3F1A', '#FFD6A6', '#E08A3D'], highlightStrength: 0.80 };
      return { colors: ['#888888', '#FFFFFF', '#CCCCCC'], highlightStrength: 0.8 };
    }

    const CONFETTI_SPRITES = {};
    const SPRITE_LEVELS = 7;

    function makeConfettiSprite(colors, highlightStrength, shine01) {
      const w = 96, h = 32;
      const c = document.createElement('canvas');
      c.width = w; c.height = h;
      const g = c.getContext('2d');

      const grad = g.createLinearGradient(0, 0, w, 0);
      grad.addColorStop(0.00, colors[0]);
      grad.addColorStop(0.50, colors[1]);
      grad.addColorStop(1.00, colors[2]);

      g.fillStyle = grad;
      g.fillRect(0, 0, w, h);

      const a = (0.10 + 0.65 * shine01) * highlightStrength;

      g.globalAlpha = a;
      g.fillStyle = 'rgba(255,255,255,1)';
      g.fillRect(w * 0.20, 0, 2, h);
      g.fillRect(w * 0.52, 0, 1, h);
      g.fillRect(w * 0.78, 0, 2, h);

      g.globalAlpha = a * 0.45;
      g.fillRect(w * 0.35, h * 0.25, 1, 1);
      g.fillRect(w * 0.62, h * 0.55, 1, 1);

      g.globalAlpha = 1;
      return c;
    }

    function ensureConfettiSprites(colorKey) {
      if (CONFETTI_SPRITES[colorKey]) return;
      const style = getConfettiStyle(colorKey);
      CONFETTI_SPRITES[colorKey] = [];
      for (let i = 0; i < SPRITE_LEVELS; i++) {
        const shine01 = i / (SPRITE_LEVELS - 1);
        CONFETTI_SPRITES[colorKey].push(
          makeConfettiSprite(style.colors, style.highlightStrength, shine01)
        );
      }
    }

    function spawnConfettiRain(colorKey) {
      const w = window.innerWidth;
      const originY = getTopBarBottomY();
      ensureConfettiSprites(colorKey);

      const count = 36;
      for (let i = 0; i < count; i++) {
        particles.push({
          key: colorKey,
          x: rand(-40, w + 40),
          y: originY + rand(-30, 10),
          vy: rand(1.0, 6.5),
          swayAmp: rand(0.6, 2.0),
          swaySpeed: rand(0.02, 0.07),
          swayPhase: rand(0, Math.PI * 2),
          rot: rand(0, Math.PI * 2),
          vr: rand(-0.18, 0.18),
          size: rand(10, 20),
          life: rand(90, 140),
          flip: rand(0, Math.PI * 2),
          flipSpeed: rand(0.10, 0.22)
        });
      }
    }

    function startRenderLoopIfNeeded() {
      if (rafId) return;

      const render = () => {
        const w = window.innerWidth;
        const h = window.innerHeight;

        ctx.clearRect(0, 0, w, h);

        particles = particles.filter(p => p.life > 0 && p.y < h + 140);

        for (const p of particles) {
          p.y += p.vy;
          p.swayPhase += p.swaySpeed;
          p.x += Math.sin(p.swayPhase) * p.swayAmp;
          p.rot += p.vr;
          p.flip += p.flipSpeed;
          p.life--;

          const alpha = Math.min(1, p.life / 30);
          const shine = Math.abs(Math.sin(p.flip));
          const idx = Math.min(SPRITE_LEVELS - 1, Math.floor(shine * (SPRITE_LEVELS - 1)));
          const sprite = CONFETTI_SPRITES[p.key][idx];

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.globalAlpha = alpha;

          const ww = p.size * 1.24;
          const hh = p.size * 0.36;

          ctx.drawImage(sprite, -ww * 0.62, -hh * 0.50, ww * 1.24, hh);
          ctx.restore();
        }

        if (particles.length === 0) {
          ctx.clearRect(0, 0, w, h);
          rafId = null;
          return;
        }

        rafId = requestAnimationFrame(render);
      };

      rafId = requestAnimationFrame(render);
    }

    function burstConfetti(colorKey) {
      spawnConfettiRain(colorKey);
      spawnConfettiRain(colorKey);
      startRenderLoopIfNeeded();
    }

    // ===============================
    // âœ… Trophy + click confetti
    // ===============================
    const trophyEl = document.getElementById('trophyBadge');
    let currentTrophyType = null;

    function showTrophy(type) {
      if (!trophyEl) return;

      currentTrophyType = type || null;

      if (!type) {
        trophyEl.classList.remove('show');
        trophyEl.src = '';
        return;
      }

      const src =
        type === 'gold'   ? 't1.png' :
        type === 'silver' ? 't2.png' :
                            't3.png';

      trophyEl.src = src;

      trophyEl.classList.remove('show');
      void trophyEl.offsetWidth;
      trophyEl.classList.add('show');
    }

    if (trophyEl) {
      trophyEl.addEventListener('click', (e) => {
        e.stopPropagation();
        if (!currentTrophyType) return;
        burstConfetti(currentTrophyType);
      });
    }

    // -----------------------------
    // Three.js
    // -----------------------------
    const scene = new THREE.Scene();
    scene.background = null;

    function getContainerHeight() {
      if (window.innerWidth <= 768) return window.innerHeight * 0.8;
      return window.innerHeight * 0.82;
    }

    const containerHeight = getContainerHeight();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / containerHeight, 0.1, 1000);
    camera.position.z = 5;

    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, containerHeight);
    renderer.setClearColor(0x000000, 0);
    document.getElementById('container').appendChild(renderer.domElement);

    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
    scene.add(ambientLight);

    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.6);
    directionalLight.position.set(5, 5, 5);
    scene.add(directionalLight);

    const directionalLight2 = new THREE.DirectionalLight(0xffffff, 0.3);
    directionalLight2.position.set(-5, -3, 3);
    scene.add(directionalLight2);

    let model = null;
    let autoRotationSpeed = 0.5;
    let modelScale = 1;
    let isDragging = false;
    let previousMouse = { x: 0, y: 0 };
    let isTransitioning = false;

    const container = document.getElementById('container');

    const rotationEl = document.getElementById('rotationSpeed');
    if (rotationEl) rotationEl.addEventListener('input', (e) => autoRotationSpeed = parseFloat(e.target.value));

    const scaleEl = document.getElementById('scaleSlider');
    if (scaleEl) {
      scaleEl.addEventListener('input', (e) => {
        const scale = parseFloat(e.target.value);
        if (model && !isTransitioning) model.scale.setScalar(modelScale * scale);
      });
    }

    container.addEventListener('mousedown', (e) => {
      isDragging = true;
      previousMouse = { x: e.clientX, y: e.clientY };
    });

    container.addEventListener('mousemove', (e) => {
      if (!isDragging || !model) return;
      const dx = e.clientX - previousMouse.x;
      const dy = e.clientY - previousMouse.y;
      model.rotation.y += dx * 0.01;
      model.rotation.x += dy * 0.01;
      previousMouse = { x: e.clientX, y: e.clientY };
    });

    container.addEventListener('mouseup', () => isDragging = false);
    container.addEventListener('mouseleave', () => isDragging = false);

    container.addEventListener('wheel', (e) => {
      e.preventDefault();
      camera.position.z += e.deltaY * 0.01;
      camera.position.z = Math.max(2, Math.min(20, camera.position.z));
    }, { passive: false });

    let touchStartDistance = 0;
    let initialZoom = 5;

    container.addEventListener('touchstart', (e) => {
      if (e.touches.length === 1) {
        isDragging = true;
        previousMouse = { x: e.touches[0].clientX, y: e.touches[0].clientY };
      } else if (e.touches.length === 2) {
        isDragging = false;
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        touchStartDistance = Math.sqrt(dx * dx + dy * dy);
        initialZoom = camera.position.z;
      }
    }, { passive: true });

    container.addEventListener('touchmove', (e) => {
      e.preventDefault();
      if (e.touches.length === 1 && isDragging && model) {
        const dx = e.touches[0].clientX - previousMouse.x;
        const dy = e.touches[0].clientY - previousMouse.y;
        model.rotation.y += dx * 0.01;
        model.rotation.x += dy * 0.01;
        previousMouse = { x: e.touches[0].clientX, y: e.touches[0].clientY };
      } else if (e.touches.length === 2) {
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        const distance = Math.sqrt(dx * dx + dy * dy);
        const scale = touchStartDistance / distance;
        camera.position.z = initialZoom * scale;
        camera.position.z = Math.max(2, Math.min(20, camera.position.z));
      }
    }, { passive: false });

    container.addEventListener('touchend', () => isDragging = false);

    function transitionTexture(posterIndex) {
      if (isTransitioning || !model) return;
      isTransitioning = true;

      const targetScale = modelScale;
      const startRotation = model.rotation.y;
      const duration = 900;
      const startTime = Date.now();

      function animateOut() {
        const elapsed = Date.now() - startTime;
        const progress = Math.min(elapsed / (duration / 2), 1);
        const eased = Math.sin(progress * Math.PI / 2);

        model.scale.setScalar(targetScale * (1 - eased * 0.95));
        model.rotation.y = startRotation + eased * Math.PI * 2;

        if (progress < 1) requestAnimationFrame(animateOut);
        else loadTexture(posterIndex, targetScale);
      }

      animateOut();
    }

    function loadTexture(posterIndex, targetScale) {
      const textureLoader = new THREE.TextureLoader();
      textureLoader.load(`poster${posterIndex}.jpg`, (texture) => {
        texture.flipY = false;
        texture.wrapS = THREE.RepeatWrapping;
        texture.wrapT = THREE.RepeatWrapping;

        model.traverse((child) => {
          if (child.isMesh) {
            child.material = new THREE.MeshStandardMaterial({
              map: texture,
              metalness: 0.1,
              roughness: 0.8,
              side: THREE.DoubleSide
            });
            child.material.needsUpdate = true;
          }
        });

        const startRotation = model.rotation.y;
        const startTime = Date.now();
        const duration = 900;

        function animateIn() {
          const elapsed = Date.now() - startTime;
          const progress = Math.min(elapsed / (duration / 2), 1);
          const eased = 1 - Math.cos(progress * Math.PI / 2);

          model.scale.setScalar(targetScale * (0.05 + eased * 0.95));
          model.rotation.y = startRotation + eased * Math.PI * 2;

          if (progress < 1) requestAnimationFrame(animateIn);
          else {
            model.scale.setScalar(targetScale);
            isTransitioning = false;
          }
        }

        animateIn();
      });
    }

    const gltfLoader = new THREE.GLTFLoader();
    gltfLoader.load(
      'pig.glb',
      (gltf) => {
        model = gltf.scene;
        ensureUVsForModel(model);

        model.traverse((child) => {
          if (child.isMesh && child.material) {
            child.material.side = THREE.DoubleSide;
            child.material.needsUpdate = true;
          }
        });

        const box = new THREE.Box3().setFromObject(model);
        const center = box.getCenter(new THREE.Vector3());
        const size = box.getSize(new THREE.Vector3());

        const maxDim = Math.max(size.x, size.y, size.z);
        const scale = 5 / maxDim;

        model.scale.setScalar(scale);
        modelScale = scale;
        model.position.set(-center.x * scale, -center.y * scale, -center.z * scale);

        scene.add(model);

        document.getElementById('loadingScreen').classList.add('hidden');
      },
      undefined,
      (error) => {
        console.error('GLB ë¡œë“œ ì‹¤íŒ¨:', error);
        document.getElementById('loadingScreen').classList.add('hidden');
      }
    );

    const gallery = document.getElementById('posterGallery');
    let currentPosterSelection = 1;

    for (let i = 1; i <= 18; i++) {
      const posterItem = document.createElement('div');
      posterItem.className = 'poster-item';
      posterItem.dataset.poster = i;

      const img = document.createElement('img');
      img.src = `poster${i}.jpg`;
      img.onerror = () => { posterItem.innerHTML = '<div class="poster-placeholder">Poster ' + i + '</div>'; };
      posterItem.appendChild(img);

      posterItem.addEventListener('click', () => {
        document.querySelectorAll('.poster-item').forEach(item => item.classList.remove('active'));
        posterItem.classList.add('active');

        currentPosterSelection = i;
        transitionTexture(i);

        if (i === 5) { burstConfetti('gold');   showTrophy('gold'); }
        else if (i === 7) { burstConfetti('silver'); showTrophy('silver'); }
        else if (i === 6) { burstConfetti('bronze'); showTrophy('bronze'); }
        else { showTrophy(null); }

        document.querySelector('#aboutImage img').src = `poster${i}.jpg`;
        updateAboutText(i);
      });

      gallery.appendChild(posterItem);
    }

    document.getElementById('button1').addEventListener('click', () => location.reload());

    // âœ… ëª¨ë°”ì¼ì—ì„œ ë‹¤ì‹œ ëˆŒëŸ¬ë„ ë‹«íˆë„ë¡: ê¸°ì¡´ toggle ê·¸ëŒ€ë¡œ ë‘ë˜, ìœ„ì¹˜ ì¬ê³„ì‚° ì¶”ê°€
    document.getElementById('button2').addEventListener('click', () => {
      positionInfoBox();
      document.getElementById('infoBox').classList.toggle('show');
    });

    document.getElementById('toggleButton').addEventListener('click', () => {
      const overlay = document.getElementById('aboutOverlay');
      const button = document.getElementById('toggleButton');

      if (overlay.classList.contains('show')) {
        overlay.classList.remove('show');
        button.classList.remove('back');
        button.textContent = 'ABOUT';
        document.body.classList.remove('overlay-open');
      } else {
        overlay.classList.add('show');
        button.classList.add('back');
        button.textContent = 'BACK';
        document.body.classList.add('overlay-open'); // âœ… ëª¨ë°”ì¼ íŠ¸ë¡œí”¼ ë’¤ë¡œ
      }
    });

    window.addEventListener('keydown', (e) => {
      if (window.innerWidth <= 768) return;
      if (e.key === 'ArrowLeft') {
        e.preventDefault();
        currentPosterSelection--;
        if (currentPosterSelection < 1) currentPosterSelection = 18;
        selectPoster(currentPosterSelection);
      } else if (e.key === 'ArrowRight') {
        e.preventDefault();
        currentPosterSelection++;
        if (currentPosterSelection > 18) currentPosterSelection = 1;
        selectPoster(currentPosterSelection);
      }
    });

    function selectPoster(index) {
      const posterItem = document.querySelector(`.poster-item[data-poster="${index}"]`);
      if (posterItem) {
        posterItem.click();
        posterItem.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
      }
    }

    let lastTime = Date.now();
    const targetFPS = 60;
    const frameInterval = 1000 / targetFPS;

    function animate() {
      requestAnimationFrame(animate);
      const now = Date.now();
      const delta = now - lastTime;

      if (delta > frameInterval) {
        lastTime = now - (delta % frameInterval);
        if (model && autoRotationSpeed > 0 && !isDragging && !isTransitioning) {
          model.rotation.y += autoRotationSpeed * 0.01;
        }
        renderer.render(scene, camera);
      }
    }
    animate();

    window.addEventListener('resize', () => {
      const h = getContainerHeight();
      camera.aspect = window.innerWidth / h;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, h);
      positionInfoBox();
    });
  </script>
</body>
</html>
